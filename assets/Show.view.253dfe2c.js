import{_ as f,o,c as n,h as t,y as S,z as g,F as v,m as y,t as r,k as h,g as C,v as $,f as j,b as u,n as B,e as m,w as p,A as T,j as b,i as V,B as F}from"./vendor.571d4190.js";import{_ as O,u as x,S as H}from"./index.dc8d0783.js";const N={name:"ShowLanding",props:{show:Object},data(){return{}},computed:{ready(){return this.show!==void 0&&this.show.image?"original"in this.show.image:!1}}},I=s=>(S("data-v-3486762a"),s=s(),g(),s),R={key:0,class:"show__landing"},U=["src"],z=I(()=>t("div",{class:"show__landing-overlay"},null,-1)),D={key:1,class:"show__landing"},G=I(()=>t("img",{class:"show__landing-img",src:O,alt:"Show landing image"},null,-1)),W=I(()=>t("div",{class:"show__landing-overlay"},null,-1)),q=[G,W];function J(s,i,e,c,a,l){return l.ready?(o(),n("div",R,[t("img",{class:"show__landing-img",src:e.show.image.original,alt:"Show landing image"},null,8,U),z])):(o(),n("div",D,q))}var K=f(N,[["render",J],["__scopeId","data-v-3486762a"]]);const P={name:"ShowComments",components:{},setup(){return{showStore:x()}},props:{show:Object,showComments:Object},data(){return{}},computed:{}},Q=s=>(S("data-v-9e77eb1e"),s=s(),g(),s),X={class:"show__comments"},Y=Q(()=>t("h3",{class:"show__comments-title"},"Comments",-1)),Z={class:"show__comments-list"},ee={key:0,class:"show__comments-item"},se={class:"show__comments-username"},oe={class:"show__comments-content"};function ne(s,i,e,c,a,l){return o(),n("div",X,[Y,t("div",Z,[(o(!0),n(v,null,y(e.showComments,d=>(o(),n(v,{key:d.showId},[d.showId===e.show.id?(o(),n("div",ee,[t("p",se,r(d.username),1),t("p",oe,r(d.content),1)])):h("",!0)],64))),128))])])}var te=f(P,[["render",ne],["__scopeId","data-v-9e77eb1e"]]);const _e={components:{},props:{show:Object},data(){return{username:"",content:""}},setup(){return{showStore:x()}},computed:{},methods:{newComment(){const s=parseInt(document.getElementById("show-id").value);if(s!=null&&this.username!==""&&this.content!==""){let i={showId:s,username:this.username,content:this.content};this.showStore.showAddComment(i)}}}},E=s=>(S("data-v-4b980b1c"),s=s(),g(),s),ie={class:"show__add-comment"},de=E(()=>t("h3",{class:"show__add-comment-title"},"Add Comment",-1)),ae=["value"],ce=E(()=>t("button",{type:"submit",class:"show__add-comment-submit"},"Send",-1));function he(s,i,e,c,a,l){return o(),n("div",ie,[de,t("form",{action:"",onSubmit:i[2]||(i[2]=j(d=>l.newComment(),["prevent"])),class:"show__add-comment-form"},[t("input",{id:"show-id",type:"hidden",value:e.show.id},null,8,ae),C(t("input",{id:"comment-username",name:"comment-username",class:"show__add-comment-username",type:"text",placeholder:"Username","onUpdate:modelValue":i[0]||(i[0]=d=>a.username=d)},null,512),[[$,a.username]]),C(t("textarea",{id:"comment-content",name:"comment-content",class:"show__add-comment-content",rows:"5",cols:"33",placeholder:"Content","onUpdate:modelValue":i[1]||(i[1]=d=>a.content=d)},null,512),[[$,a.content]]),ce],32)])}var le=f(_e,[["render",he],["__scopeId","data-v-4b980b1c"]]);const me={name:"ShowEpisodes",props:{episodes:Array},data(){return{episodeMaxShow:4,btnShowAllActive:!0}},computed:{},methods:{showAllEpisodes:function(s){this.btnShowAllActive=!1,this.episodeMaxShow=0}}},A=s=>(S("data-v-619eb1a0"),s=s(),g(),s),re={class:"show__infos-episodes"},we=A(()=>t("h3",{class:"show__infos-episodes-title"},"Episodes",-1)),ue={key:0,class:"show__infos-episodes-list"},fe={key:0,class:"show__infos-episode-wrap-img"},pe=["src"],ve={class:"show__infos-episode-main"},Se={key:0,class:"show__infos-episode-number"},ge=b("S"),ye=b(" \u2022 E"),be=["innerHTML"],ke=A(()=>t("div",{class:"show__infos-episodes-list-overlay"},null,-1));function Ce(s,i,e,c,a,l){const d=u("RouterLink");return o(),n("div",re,[we,e.episodes!==void 0?(o(),n("div",ue,[(o(!0),n(v,null,y(e.episodes,(_,w)=>(o(),n("div",{class:B(["show__infos-episode",a.episodeMaxShow>0&&w<a.episodeMaxShow||a.episodeMaxShow===0?"active":""]),key:_.id},[m(d,{to:{name:"episode",params:{id:_.id}},class:"show__infos-episode-link"},{default:p(()=>[_!==void 0&&_.image!==void 0&&_.image.original!==void 0?(o(),n("div",fe,[t("img",{class:"show__infos-episode-img",src:_.image.original,alt:"Episode image"},null,8,pe)])):h("",!0),t("div",ve,[_.season!==void 0&&_.number!==void 0?(o(),n("p",Se,[ge,t("span",null,r(_.season),1),ye,t("span",null,r(_.number),1)])):h("",!0),_.summary!==void 0?(o(),n("div",{key:1,class:"show__infos-episode-summary",innerHTML:_.summary},null,8,be)):h("",!0)])]),_:2},1032,["to"])],2))),128)),ke])):h("",!0),C(t("button",{onClick:i[0]||(i[0]=(..._)=>l.showAllEpisodes&&l.showAllEpisodes(..._)),class:"show__infos-episodes-btn"},"Show all",512),[[T,a.btnShowAllActive]])])}var xe=f(me,[["render",Ce],["__scopeId","data-v-619eb1a0"]]);const Ie={name:"ShowInfos",components:{ShowEpisodes:xe},props:{show:Object},data(){return{}},computed:{}},k=s=>(S("data-v-0623f07a"),s=s(),g(),s),$e={class:"show__infos"},Ee={class:"show__infos-main"},Ae={class:"show__infos-main-left"},Le={key:0,class:"show__infos-title"},Me=["innerHTML"],je={class:"show__infos-main-right"},Be={class:"show__infos-elem"},Te=k(()=>t("span",{class:"show__infos-elem-title"},"Language: ",-1)),Ve={key:0},Fe={key:1},Oe={class:"show__infos-elem"},He=k(()=>t("span",{class:"show__infos-elem-title"},"Cast: ",-1)),Ne={key:0},Re={key:0},Ue={key:1},ze={class:"show__infos-elem"},De=k(()=>t("span",{class:"show__infos-elem-title"},"Genres: ",-1)),Ge={key:0},We={key:0},qe={key:1},Je={class:"show__infos-elem"},Ke=k(()=>t("span",{class:"show__infos-elem-title"},"Rating: ",-1)),Pe={key:0},Qe={key:1};function Xe(s,i,e,c,a,l){const d=u("ShowEpisodes");return o(),n("div",$e,[t("div",Ee,[t("div",Ae,[e.show!==void 0&&e.show.name!==void 0?(o(),n("h2",Le,r(e.show.name),1)):h("",!0),e.show!==void 0&&e.show.summary!==void 0?(o(),n("div",{key:1,class:"show__infos-summary",innerHTML:e.show.summary},null,8,Me)):h("",!0)]),t("div",je,[t("p",Be,[Te,e.show!==void 0&&e.show.language!==void 0?(o(),n("span",Ve,r(e.show.language),1)):(o(),n("span",Fe," / "))]),t("p",Oe,[He,e.show!==void 0&&e.show._embedded!==void 0&&e.show._embedded.cast!==void 0?(o(),n("span",Ne,[(o(!0),n(v,null,y(e.show._embedded.cast,(_,w)=>(o(),n("span",{key:"cast-"+_.person.id},[w!==0?(o(),n("span",Re,",")):h("",!0),b(" "+r(_.person.name),1)]))),128))])):(o(),n("span",Ue," / "))]),t("p",ze,[De,e.show!==void 0&&e.show.genres!==void 0?(o(),n("span",Ge,[(o(!0),n(v,null,y(e.show.genres,(_,w)=>(o(),n("span",{key:_},[w!==0?(o(),n("span",We,",")):h("",!0),b(" "+r(_),1)]))),128))])):(o(),n("span",qe," / "))]),t("p",Je,[Ke,e.show!==void 0&&e.show.rating!==void 0&&e.show.rating.average!==void 0?(o(),n("span",Pe,r(e.show.rating.average)+"/10",1)):(o(),n("span",Qe," / "))])])]),e.show!==void 0&&e.show._embedded!==void 0&&e.show._embedded.episodes!=null?(o(),V(d,{key:0,episodes:e.show._embedded.episodes},null,8,["episodes"])):h("",!0)])}var Ye=f(Ie,[["render",Xe],["__scopeId","data-v-0623f07a"]]);const Ze={name:"Show",components:{Section:H,ShowLanding:K,ShowInfos:Ye,ShowComments:te,ShowCommentForm:le},data(){return{show:[]}},setup(){const s=F(),i=x(),e=s.params.id;return i.initShowWithEpisodes(e),{showStore:i}},computed:{},methods:{}},es={class:"show__container"};function ss(s,i,e,c,a,l){const d=u("ShowLanding"),_=u("Section"),w=u("ShowInfos"),L=u("ShowComments"),M=u("ShowCommentForm");return o(),n("div",es,[m(_,null,{default:p(()=>[m(d,{show:c.showStore.getShow},null,8,["show"])]),_:1}),m(_,null,{default:p(()=>[m(w,{show:c.showStore.getShow},null,8,["show"])]),_:1}),m(_,null,{default:p(()=>[m(L,{show:c.showStore.getShow,showComments:c.showStore.getShowComments},null,8,["show","showComments"])]),_:1}),m(_,null,{default:p(()=>[m(M,{show:c.showStore.getShow,showComments:c.showStore.getShowComments},null,8,["show","showComments"])]),_:1})])}var ts=f(Ze,[["render",ss],["__scopeId","data-v-9c336b7c"]]);export{ts as default};
